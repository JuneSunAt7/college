'''

Процент к итогу (базисный год)=
Общая сумма (базисный год) / Сумма за вид средств (базисный год) ×100
Процент к итогу (отчетный год)=
Общая сумма (отчетный год) / Сумма за вид средств (отчетный год) ×100

Относительное отклонение=Процент к итогу (отчетный год)−Процент к итогу (базисный год)
'''
data = {
    "Вид основных средств": ["Здания", "Сооружения", "передаточные устройства", "силовые машины",
                             "рабочие машины и оборуд",
                             "измерит приборы", "вычислит. техника", "ТС", "инстр и хоз инвентарь", "прочие",
                             "непризв. фонды", "всего осн. средств"],
    "Базисный год (тыс. руб.)": [39947, 4675, 2434, 707, 94952, 2911, 59, 2289, 91, 241, 2403, None],
    "Отчетный год (тыс. руб.)": [39560, 4416, 2446, 707, 95924, 2868, 200, 2084, 91, 229, 2133, None]
}

data["% к итогу (базисный)"] = []
data["% к итогу (отчетный)"] = []
data["Отклонение"] = []

# суммы для строки "всего основных средств"
total_base = sum(data["Базисный год (тыс. руб.)"][:-1])  # Сумма всех значений, кроме последней строки
total_report = sum(data["Отчетный год (тыс. руб.)"][:-1])

data["Базисный год (тыс. руб.)"][-1] = total_base
data["Отчетный год (тыс. руб.)"][-1] = total_report

# проценты к итогу и отклонения
for i in range(len(data["Вид основных средств"]) - 1):  # Исключаем последнюю строку
    base_value = data["Базисный год (тыс. руб.)"][i]
    report_value = data["Отчетный год (тыс. руб.)"][i]

    percent_base = (base_value / total_base) * 100
    percent_report = (report_value / total_report) * 100

    deviation = percent_report - percent_base

    data["% к итогу (базисный)"].append(round(percent_base, 2))
    data["% к итогу (отчетный)"].append(round(percent_report, 2))
    data["Отклонение"].append(round(deviation, 2))

# "всего основных средств"
data["% к итогу (базисный)"].append(100)
data["% к итогу (отчетный)"].append(100)
data["Отклонение"].append(0)

for key, value in data.items():
    print(f"{key}: {value}")